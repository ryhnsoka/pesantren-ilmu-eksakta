{{ define "main" }}
<div class="container mx-auto max-w-7xl px-4 py-12">
    <div class="flex flex-col lg:flex-row gap-12">

        <div class="w-full lg:w-2/3 page-content">
            <h1 class="text-3xl md:text-4xl font-bold font-serif-display text-orange-500 mb-4 text-center">{{ .Title }}</h1>
            
            <div class="text-center text-gray-600 italic text-xl mb-12 border-b pb-8">
                {{ if eq .Title "Titik Ba" }}<p>"Segalanya satu, utuh tak terbagi dan sejatinya tidak ada"</p>{{ end }}
                {{ if eq .Title "Ayat-Ayat Cerita" }}<p>"Memahami ilmu sebagai sebuah narasi besar yang saling berhubungan"</p>{{ end }}
                {{ if eq .Title "Matematika Detik" }}<p>"Asah intuisi, kelola dua detik pertama"</p>{{ end }}
                {{ if eq .Title "Matematika Titik" }}<p>"Keseluruhan matematika adalah tentang menamai titik"</p>{{ end }}
                {{ if eq .Title "Bimbel" }}<p>"Bimbingan belajar khusus matematika dan sains"</p>{{ end }}
                {{ if eq .Title "Kamp Santri" }}<p>"Materi ilmu eksakta yang seutuh dan sekokoh mungkin"</p>{{ end }}
            </div>

            <article class="prose prose-lg max-w-none text-justify">
                {{ with .Params.sub_title }}
                    <h2 class="text-center text-2xl font-semibold text-gray-800 not-prose">{{ . | markdownify }}</h2>
                {{ end }}

                {{ .Content }}
            </article>

            <div class="text-center mt-12 pt-8 border-t">
                {{ $kategori := .Title | urlize }}
                {{ $category_url := printf "/categories/%s" $kategori }}
                <a href="{{ $category_url }}" class="inline-block bg-orange-100 text-orange-800 font-semibold py-4 px-8 rounded-lg border border-orange-200 hover:bg-orange-200 hover:border-orange-300 transition-all shadow-sm">
                    Lihat Semua Artikel Kategori "{{ .Title }}"
                </a>
            </div>
        </div>

        <aside class="w-full lg:w-1/3">
            <div class="sticky top-24">
                <h2 class="text-3xl font-bold font-serif-display text-gray-800 mb-8">Artikel Terbaru</h2>

                {{ $currentCategory := .Title }}
                {{ with .Site.Taxonomies.categories.Get $currentCategory }}
                    <div>
                        <h3 class="text-xl font-bold font-serif-display text-orange-600 border-b-2 border-orange-200 pb-2 mb-4">
                            Kategori: {{ .Page.Title }}
                        </h3>
                        <ul class="space-y-3 list-inside">
                            {{ range first 10 .Pages }}
                            <li class="sidebar-article-item">
                                <a href="{{ .Permalink }}" class="text-gray-700 hover:text-orange-500 hover:underline transition-colors duration-200">
                                    {{ .Title }}
                                </a>
                            </li>
                            {{ else }}
                            <li class="text-gray-500">Belum ada artikel untuk kategori ini.</li>
                            {{ end }}
                        </ul>
                    </div>
                {{ end }}
            </div>
        </aside>

    </div>
</div>
{{ end }}
